<Viewbox
	x:Class="OtomadHelper.WPF.Controls.Icon"
	x:Name="View"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:c="clr-namespace:OtomadHelper.WPF.Controls"
	Width="{Binding Size, ElementName=View}"
	Height="{Binding Size, ElementName=View}"
	Loaded="Icon_Loaded"
	>
	<Viewbox.Resources>
		<Style TargetType="ItemsControl">
			<Setter Property="DataContext" Value="{Binding ElementName=View}" />
			<Setter Property="ItemsSource" Value="{Binding Source.Path}" />
		</Style>
		<Style x:Key="ContainerStyle" TargetType="Canvas">
			<Setter Property="DataContext" Value="{Binding ElementName=View}" />
			<Setter Property="Width" Value="{Binding Source.Size}" />
			<Setter Property="Height" Value="{Binding Source.Size}" />
		</Style>
		<Style x:Key="PathStyle" TargetType="Path">
			<Setter Property="Data" Value="{Binding}" />
			<Setter Property="Fill" Value="{Binding Foreground, ElementName=View}" />
		</Style>
	</Viewbox.Resources>

	<ItemsControl>
		<ItemsControl.ItemsPanel>
			<ItemsPanelTemplate>
				<Canvas Style="{StaticResource ContainerStyle}" />
			</ItemsPanelTemplate>
		</ItemsControl.ItemsPanel>
		<ItemsControl.ItemTemplate>
			<DataTemplate>
				<Path Style="{StaticResource PathStyle}" />
			</DataTemplate>
		</ItemsControl.ItemTemplate>
	</ItemsControl>
</Viewbox>
